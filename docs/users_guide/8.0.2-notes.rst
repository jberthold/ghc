.. _release-8-0-2:

Release notes for version 8.0.2
===============================

TODO FIXME

Highlights
----------

-  Many, many bug fixes.

Full details
------------

Language
~~~~~~~~

-  TODO FIXME.

Compiler
~~~~~~~~

-  The :ghc-flag:`-Wredundant-constraints` flag has been removed from the
   :ghc-flag:`-Wall` flag set (see :ghc-ticket:`10635`).

-  Added :ghc-flag:`-fdefer-out-of-scope-variables`, which converts variable
   out of scope variables errors into warnings.

Runtime system
~~~~~~~~~~~~~~

- The Runtime linker on Windows is once again recognizing POSIX functions under their
  "deprecated" name. e.g. "strdup" will now be recognizes and internally forwarded to "_strdup".
  If you have existing code already using the correct names (e.g. _strdup) then this will just continue
  to work and no change is needed. For more information about how the forwarding is done please see
  `MSDN <https://msdn.microsoft.com/en-us/library/ms235384.aspx>`_ . This should now introduce the same behavior
  both compiled and interpreted. (see :ghc-ticket:`12497`).

Template Haskell
~~~~~~~~~~~~~~~~

-  TODO FIXME.

- ``addModFinalizer`` now exposes the local typing environment at the splice
  point. This allows ``reify`` to see local and top-level definitions in the
  current declaration group when used as in

  .. code-block:: none

      f x = $(addModFinalizer (reify 'x >>= runIO . print) >> [| x |])

``ghc`` library
~~~~~~~~~~~~~~~

- Accessors are now exposed for ``ErrUtils.ErrMsg`` and ``ErrUtils.ErrDoc``.

